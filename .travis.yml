language: julia
julia:
  # Test against these exact versions
  #- 0.6.2
  - 0.6.3
dist: trusty
sudo: false
matrix:
  include:
    - os: linux
      addons:
        apt:
          sources:
            # For gcc-7/g++-7
            - sourceline: 'ppa:jonathonf/gcc'
            # For cmake 3.2.3 / doxygen 1.8.3
            - george-edison55-trusty-backports
          packages:
            - gcc-7
            - cmake
            - cmake-data
      before_install:
        - export CC="gcc-7" CXX="g++-7"
   
    # OSX build using clang
    - os: osx
      compiler: "clang"

install:
  - mkdir build; cd build
  - cmake -DJulia_EXECUTABLE=$(which julia) ..
  - VERBOSE=ON cmake --build . --config Debug --target all

script:
  - ctest -V

notifications:
  email: true
